(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(11),i=n.n(r),l=(n(54),n(5)),o=n(6),c=n(8),m=n(7),u=n(2),d=n(9),h=(n(55),n(56),n(57),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={names:[""],count:1},n.addName=n.addName.bind(Object(u.a)(n)),n.handleForm=n.handleForm.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"addName",value:function(){var e=this.state.names;e.push(""),this.setState({names:e,count:this.state.count+1})}},{key:"handleForm",value:function(e){e.preventDefault();for(var t=[],n=0;n<this.state.count;n++)t.push(e.target[n].value);console.log(t),this.props.sendNamesHere(t)}},{key:"render",value:function(){return s.a.createElement("form",{id:"target",onSubmit:this.handleForm},"Enter names of people contributing",s.a.createElement("table",null,s.a.createElement("tbody",null,this.state.names.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement("input",{type:"text",name:"person",className:"form-control",id:"nameOfPerson",placeholder:"Enter Name of Person",required:!0})))}))),s.a.createElement("div",{id:"main"}),s.a.createElement("button",{type:"button",className:"btn btn-primary",id:"add",onClick:this.addName},"Add Name"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(a.Component)),p=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(m.a)(t).call(this,e));for(var a=[],s=0;s<e.names.length;s++)a.push(0);return n.state={id:e.id,name:e.name,price:e.price,names:e.names,contributions:e.contributions,srno:e.srno,warning:e.warning,warning_text:e.warning_text},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props)!=JSON.stringify(e)&&(console.log("Updated Item Component"),this.setState({id:this.props.id,name:this.props.name,price:this.props.price,names:this.props.names,contributions:this.props.contributions,warning:this.props.warning,warning_text:this.props.warning_text}))}},{key:"render",value:function(){var e=this,t=s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Names"),s.a.createElement("th",null,"Percentage of Contribution"))),s.a.createElement("tbody",null,this.state.names.map(function(t,n){return s.a.createElement("tr",null,s.a.createElement("td",null,t),s.a.createElement("td",null,s.a.createElement("input",{type:"number",step:"0.1",name:"contribution"+n,class:"form-control",id:e.state.id,placeholder:"Enter Percentage",value:e.state.contributions[n]})))})));return s.a.createElement("div",{id:this.state.id,onChange:this.props.handleChange},s.a.createElement("div",null,s.a.createElement("h4",null,"Item #",this.state.srno),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("input",{type:"text",name:"item",className:"form-control",id:this.state.id,placeholder:"Enter item",value:this.state.name,required:!0})),s.a.createElement("td",null,s.a.createElement("input",{type:"number",name:"price",className:"form-control",id:this.state.id,placeholder:"Enter Price of item",value:this.state.price,required:!0}))))),s.a.createElement("input",{type:"checkbox",name:"equal",id:this.state.id}),"Split equally",s.a.createElement("br",null),t))}}]),t}(a.Component),g=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(m.a)(t).call(this,e)),console.log(e.names);for(var a=[],s=0;s<e.names.length;s++)a.push("");return n.state={names:e.names,items:[{id:0,name:"",price:"",contributions:a,warning:!1,warning_text:""}],id_count:0,count:1},n.addItem=n.addItem.bind(Object(u.a)(n)),n.itemChange=n.itemChange.bind(Object(u.a)(n)),n.deleteItem=n.deleteItem.bind(Object(u.a)(n)),n.handleForm=n.handleForm.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.names;JSON.stringify(t)!=JSON.stringify(e.names)&&(console.log("Updated Items"),this.setState({names:this.props.names}))}},{key:"deleteItem",value:function(e){console.log(e.target.id);var t=this.state.items;console.log(t);for(var n=0;n<t.length;n++)t[n].id==parseInt(e.target.id)&&(console.log("Found"),t.splice(n,1));console.log(t),this.setState({items:t,count:this.state.count-1})}},{key:"addItem",value:function(){for(var e=this.state.items,t=[],n=0;n<this.state.names.length;n++)t.push("");e.push({id:this.state.id_count+1,name:"",price:"",contributions:t,warning:!1,warning_text:""}),this.setState({id_count:this.state.id_count+1,items:e,count:this.state.count+1})}},{key:"itemChange",value:function(e){console.log(e.target);for(var t=/(\d+(\.\d+)?)/,n=this.state.items,a=0;a<n.length;a++)if(n[a].warning&&(console.log("Here"),n[a].warning=!1,n[a].warning_text=""),parseInt(e.target.id)===n[a].id){console.log("MATCH");var s=n[a];if("item"===e.target.name&&(console.log("ITEM"),s.name=e.target.value),"price"===e.target.name&&(""===e.target.value||t.test(e.target.value))&&(console.log("PRICE"),s.price=e.target.value),"equal"===e.target.name&&e.target.checked)for(var r=0;r<this.state.names.length;r++)s.contributions[r]=Math.round(100/this.state.names.length);else s.contributions[parseInt(e.target.name.split("contribution")[1])]=e.target.value;break}console.log(n,this.state.count),this.setState({items:n})}},{key:"handleForm",value:function(e){if(e.preventDefault(),this.state.items.length){for(var t=e.target.tax.value,n=[],a=!0,s=0;s<this.state.count;s++){var r=this.state.items[s];r.name=this.state.items[s].name,isNaN(parseFloat(this.state.items[s].price))?(console.log("It is not valid price"),a=!1,r.warning=!0,r.warning_text="Make sure Price is Numeric"):(console.log("It is valid price"),r.price=parseFloat(this.state.items[s].price));for(var i=[],l=0,o=0;o<this.state.names.length;o++)""===this.state.items[s].contributions[o]?i.push(0):i.push(parseFloat(this.state.items[s].contributions[o])),l+=i[o];100!==l&&(a=!1,r.warning=!0,r.warning_text="Make sure sum is 100"),r.contri=i,n.push(r)}this.setState({items:n}),console.log(n,t),a&&this.props.resultOfForm(n,t)}else alert("Enter Items")}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.handleForm},this.state.items.map(function(t,n){return s.a.createElement("div",{style:{border:t.warning?"10px solid red":"2px solid",margin:"2%",padding:"3%"}},s.a.createElement("h4",null,s.a.createElement("b",null,t.warning_text)),s.a.createElement(p,{srno:n+1,names:e.state.names,id:t.id,name:t.name,price:t.price,contributions:t.contributions,handleChange:e.itemChange,warning:e.state.warning,warning_text:e.state.warning_text}),s.a.createElement("button",{type:"button",class:"btn btn-danger",id:t.id,onClick:e.deleteItem},"Delete Item"))}),s.a.createElement("button",{type:"button",class:"btn btn-primary",id:"additem",onClick:this.addItem},"Add Item"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Enter total tax"),s.a.createElement("td",null,s.a.createElement("input",{type:"number",step:"0.01",name:"tax",class:"form-control",id:"nameOfPerson",placeholder:"Enter Tax",required:!0})))),s.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Submit"))}}]),t}(a.Component),b=n(46),f=n.n(b),E=function(){return s.a.createElement("div",null,s.a.createElement("i",{className:"fa fa-spinner fa-spin"})," Loading...")},v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={names:e.names,result:e.result},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.names.map(function(t,n){return s.a.createElement("div",null,t," has to contribute ",s.a.createElement("strong",null,"Rs.",e.state.result[t]))})}}]),t}(a.Component),y=n(14),w=n.n(y),O=n(47),j=n.n(O),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={names:[],loading:!1,modal_show:!1},n.handleGetNamesForm=n.handleGetNamesForm.bind(Object(u.a)(n)),n.getItemsAndTaxes=n.getItemsAndTaxes.bind(Object(u.a)(n)),n.modalClose=n.modalClose.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleGetNamesForm",value:function(e){console.log(e),this.setState({names:e})}},{key:"modalClose",value:function(){this.setState({modal_show:!1})}},{key:"getItemsAndTaxes",value:function(e,t){var n=this;console.log(e,t);var a={people:this.state.names,items:e,taxes:t};this.setState({loading:!0,modal_show:!0},function(){f.a.post("https://rocky-refuge-72367.herokuapp.com/",a).then(function(e){n.setState({loading:!1,result:e.data}),console.log(e)}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Bill Spliter"),s.a.createElement(h,{sendNamesHere:this.handleGetNamesForm}),this.state.names.length>0?s.a.createElement(g,{names:this.state.names,resultOfForm:this.getItemsAndTaxes}):s.a.createElement("h4",null,"Enter Names to Continue"),s.a.createElement(w.a,{show:this.state.modal_show},s.a.createElement(w.a.Header,null,s.a.createElement(w.a.Title,null,"Result")),s.a.createElement(w.a.Body,null,this.state.loading?s.a.createElement(E,null):s.a.createElement(v,{names:this.state.names,result:this.state.result})),s.a.createElement(w.a.Footer,null,s.a.createElement(j.a,{variant:"secondary",onClick:this.modalClose},"Close"))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t,n){e.exports=n(113)},54:function(e,t,n){},57:function(e,t,n){}},[[48,1,2]]]);
//# sourceMappingURL=main.23fa80ef.chunk.js.map